<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>

	<script type="text/javascript">
		window.onload = function() {
			var fm = document.getElementsByTagName('form')[0];
			fm.onsubmit = function(evt){
				//1.利用FormData收集表单信息
				//注意: 
				//1. 每个表单域要有name属性值
				//2. 不能设置header头
				var frda = new FormData(fm);
				// info = encodeURIComponent(info);
				//2.ajax负责把收集好的信息的传递给服务器端
				var xhr = new XMLHttpRequest();
				xhr.onreadystatechange = function() {
					if(xhr.readyState == 4){
						alert(xhr.responseText);
					}
				}
				xhr.open('post', './02.php');
				// xhr.setRequestHeader("content-type", "application/x-www-form-urlencoded");
				xhr.send(frda);

				//阻止浏览器默认动作
				evt.preventDefault();
				//return false;//也可以
			}
		}
	</script>
</head>
<body>
	<h2>无刷新方式收集表单信息并提交</h2>
	<form>
		<p>用户名: <input type="text" name="username" id="username"></p>
		<p>密码: <input type="text" name="password" id="password"></p>
		<p>邮箱: <input type="text" name="email" id="email"></p>
		<p><input type="submit" value="提交"></p>
	</form>
</body>
</html>